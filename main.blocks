<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="o5rzdD@gPw!na(GLC4SD">rContent</variable><variable id="4CP?,1U[BW5f2AiV[)Cv">isBluetoothConnected</variable><variable id="uS@Q`=tS-xj?UFA)RR|B">isPressedButtonB</variable><variable id="`+(TiPB^]1KT^(7}A-KP">isPressedButtonA</variable></variables><block type="pxt-on-start" id="jpz|,OT3PER_}lxtp_R7" x="20" y="20"><statement name="HANDLER"><block type="typescript_statement" id="Lho(Xc2=Y:(2kXkY=|4+" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let rContent = &quot;&quot;" numlines="1" declaredvars="rContent"></mutation><next><block type="typescript_statement" id="UM0;Q4#{PgbUWgb=E0YX" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let IRData = [] as Array&lt;any&gt;" numlines="1" declaredvars="IRData"></mutation><next><block type="variables_set" id="8t^f|iXA+nj^sUrOM;Xi"><field name="VAR" id="uS@Q`=tS-xj?UFA)RR|B">isPressedButtonB</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="+1$L1U??DStHCiCiPy]W"><field name="BOOL">FALSE</field></block></value><next><block type="variables_set" id="bqVL,5=$P)CBJZcrXWt3"><field name="VAR" id="`+(TiPB^]1KT^(7}A-KP">isPressedButtonA</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="-uw}@tY~}z!0!OtM#ghs"><field name="BOOL">FALSE</field></block></value><next><block type="variables_set" id="u9Xt8@cf8CPA4X,5;|=/"><field name="VAR" id="o5rzdD@gPw!na(GLC4SD">rContent</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="%5FaQf,:$pGd.$/QbT*i"><field name="TEXT"/></block></value><next><block type="device_set_digital_pin" id="-oaYPcxH8o%?}?#vf-2Y"><field name="name">DigitalPin.P14</field><value name="value"><shadow type="math_number_minmax" id="Vukp#E9NRm8Y9dY?#t4H"><mutation min="0" max="1" label="Number" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="device_set_digital_pin" id="M*%j75q8A|CxnQvb`W|U"><field name="name">DigitalPin.P15</field><value name="value"><shadow type="math_number_minmax" id="-J9r;jJS(},(.`y!Qd.6"><mutation min="0" max="1" label="Number" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="basic_show_icon" id="}Bl$Eq_|$Tok/(;rrK-B"><field name="i">IconNames.Heart</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="bluetooth_on_connected" id="FFzIp7v=+XGX4od^f0Zs" x="536" y="20"><statement name="HANDLER"><block type="variables_set" id="^.^+l|Faa33XE]/.qFpg"><field name="VAR" id="4CP?,1U[BW5f2AiV[)Cv">isBluetoothConnected</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="qv%m.Y5j7OC:2v+IJ{[k"><field name="BOOL">TRUE</field></block></value><next><block type="bluetooth_uart_write" id="AJB0waf3!%nBODCVZ:Si"><value name="data"><shadow type="text" id="TKC7jUN}~fNtU},GAXCd"><field name="TEXT">connection succeeded</field></shadow></value><next><block type="basic_show_icon" id="B8i7;(7RoYrKFtX/#{RF"><field name="i">IconNames.Yes</field></block></next></block></next></block></statement></block><block type="bluetooth_on_data_received" id="Kr*Ry;UB}1TdG.`3B)[x" x="1078" y="20"><value name="delimiters"><shadow type="serial_delimiter_conv" id=",J0TaX|VtUH/CR*oP=H~"><field name="del">Delimiters.NewLine</field></shadow></value><statement name="HANDLER"><block type="variables_set" id="~i@k:(@Al$+#,^QS,.#K"><field name="VAR" id="o5rzdD@gPw!na(GLC4SD">rContent</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="bluetooth_uart_read" id="u4Pwos44-%WXLB8QUZ%e"><value name="del"><shadow type="serial_delimiter_conv" id="8zVj?~w*j2}H,Y_+SOA`"><field name="del">Delimiters.NewLine</field></shadow></value></block></value><next><block type="controls_if" id="IsLW@|5NQwhdrm-NDPVx"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="j-=7_Wv+!K9F$7Z,U;!+"><field name="VAR" id="o5rzdD@gPw!na(GLC4SD">rContent</field></block></value><statement name="DO0"><block type="typescript_statement" id="A5.#=/|d8qrLJibxh.8U" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="rContent = rContent.trim()" numlines="1"></mutation></block></statement><next><block type="controls_if" id="7Ve+xMJt|B^7$9i!2a-V"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="j-45q+8SJ`,)MzVSXrc+"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="W{lV|ivytlEH^#3[_9xq"><field name="VAR" id="4CP?,1U[BW5f2AiV[)Cv">isBluetoothConnected</field></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="IBGOh!ljp~$fA;92!Zx|"><field name="VAR" id="o5rzdD@gPw!na(GLC4SD">rContent</field></block></value></block></value><statement name="DO0"><block type="device_print_message" id="8xe1ps9=5}F8r[^pN:9Q"><value name="text"><block type="variables_get" id=":349Kd#hk+PX,^Gmf@C."><field name="VAR" id="o5rzdD@gPw!na(GLC4SD">rContent</field></block></value><next><block type="device_show_number" id="=jV,,C0AY3]-N,Oz:+#r"><value name="number"><block type="text_length" id="[~#8ZI0W.VRAzO598,P6"><value name="VALUE"><block type="variables_get" id="t:;B*O;cSjS57RYv-8/K"><field name="VAR" id="o5rzdD@gPw!na(GLC4SD">rContent</field></block></value></block></value><next><block type="device_pause" id="7zkyjHqz*q%8(ZdPWB/5"><value name="pause"><shadow type="timePicker" id="X}`UPgDCfIF|xD+%z;jh"><field name="ms">2000</field></shadow></value><next><block type="bluetooth_uart_write" id="HgtM*uXQwCR0TpENK.*k"><value name="data"><shadow type="text" id="g;Gy?O1GID8z!.AL)QTl"><field name="TEXT">OK</field></shadow></value></block></next></block></next></block></next></block></statement><statement name="ELSE"><block type="bluetooth_uart_write" id=".=a1ku,`]ZhuosZ=gUj8"><value name="data"><shadow type="text" id="{DUrLIU9!9y7uU,tP`y;"><field name="TEXT">No Data</field></shadow></value></block></statement><next><block type="device_show_leds" id="*,GX0s%vg3^qI?mh5q%x"><field name="LEDS">`
        . . . . . 
        . # # # . 
        . . . . . 
        . # # # . 
        . . . . .
        `</field></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="X_h%7^^_st*w|xf[RAYm" x="1742" y="20"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="variables_set" id="v?.q0Is2!*b;ve6;QvXz"><field name="VAR" id="`+(TiPB^]1KT^(7}A-KP">isPressedButtonA</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="EAn+jlxiH)+XLTzh4!#p"><field name="BOOL">FALSE</field></block></value><next><block type="device_set_digital_pin" id="1*=*ZMZi]=4X.mBe+0!9"><field name="name">DigitalPin.P15</field><value name="value"><shadow type="math_number_minmax" id="33X^ouIjQBE=(5,hPIWd"><mutation min="0" max="1" label="Number" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="bluetooth_uart_write" id="TreK{Y.B8!IUCtq5iGaB"><value name="data"><shadow type="text" id="]hA[i`KuCOn[6j(~aE~%"><field name="TEXT">IR ((( receive close</field></shadow></value><next><block type="controls_if" id="dv71|DI`_=VcF:8!uS0}"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id=",]lDCV{`]yv9YK+5cA$/"><field name="VAR" id="4CP?,1U[BW5f2AiV[)Cv">isBluetoothConnected</field></block></value><statement name="DO0"><block type="variables_set" id="a5=1)7Sg#Ucs(IJ{l8s0"><field name="VAR" id="uS@Q`=tS-xj?UFA)RR|B">isPressedButtonB</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="yP$edU)tBUA;Xeo$_DK("><field name="BOOL">TRUE</field></block></value><next><block type="bluetooth_uart_write" id="|R`9,lyts}/e~w#IDygr"><value name="data"><shadow type="text" id="eS6]N_Eu@@24Yg0Szr7U"><field name="TEXT">IR ))) send open</field></shadow></value></block></next></block></statement><next><block type="device_set_digital_pin" id="SkTpPm?i`KZQSKh5Uho6"><field name="name">DigitalPin.P14</field><value name="value"><shadow type="math_number_minmax" id="5$,^lay1sd!?v49~5E%$"><mutation min="0" max="1" label="Number" precision="0"/><field name="SLIDER">1</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="z@}ckPuS6S#lo)xBA8SH" x="20" y="930"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="variables_set" id="jL*$biRDy~n6TFd5/0a;"><field name="VAR" id="uS@Q`=tS-xj?UFA)RR|B">isPressedButtonB</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="4_%x?e@J_R$(4Obw!4f:"><field name="BOOL">FALSE</field></block></value><next><block type="device_set_digital_pin" id="BXZ*c%B`:7]UPRvzt#ZP"><field name="name">DigitalPin.P14</field><value name="value"><shadow type="math_number_minmax" id="K4!P.HfcM4p7ol|dxid8"><mutation min="0" max="1" label="Number" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="bluetooth_uart_write" id="{4CEWLv4bj/xXa`FJ[Vj"><value name="data"><shadow type="text" id="b@DCnj7)%=`N`ELjyy,i"><field name="TEXT">IR ))) send close</field></shadow></value><next><block type="controls_if" id="@cN*L[niJ3kg_T3::khf"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id=",2@kpZA5^=AymT(K6T*;"><field name="VAR" id="4CP?,1U[BW5f2AiV[)Cv">isBluetoothConnected</field></block></value><statement name="DO0"><block type="variables_set" id="Buk@eM|T=ZvLle~z#kHl"><field name="VAR" id="`+(TiPB^]1KT^(7}A-KP">isPressedButtonA</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="CYG15kE}fQz(uiY^KZ?N"><field name="BOOL">TRUE</field></block></value><next><block type="bluetooth_uart_write" id="tB)CY%Q%xaQrO~NWDio6"><value name="data"><shadow type="text" id="NAA9SRRpVs[EA-Tf:yW8"><field name="TEXT">IR ((( receive open</field></shadow></value><next><block type="device_set_digital_pin" id="i[)NPE]t(xhuu$p[:=+p"><field name="name">DigitalPin.P15</field><value name="value"><shadow type="math_number_minmax" id="8:+eHPNV%pXHsBu6qUNm"><mutation min="0" max="1" label="Number" precision="0"/><field name="SLIDER">1</field></shadow></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block><block type="pins_on_pulsed" id="*{gW-G7stR;ydm}}C!|~" x="601" y="930"><field name="pin">DigitalPin.P15</field><field name="pulse">PulseValue.High</field><comment pinned="false" h="80" w="160" relx="10" rely="10">接收红外信号</comment></block><block type="pins_on_pulsed" id="NB(!6Zg;y8,k-YH[p:=S" x="937" y="930"><field name="pin">DigitalPin.P14</field><field name="pulse">PulseValue.High</field><comment pinned="false" h="80" w="160" relx="10" rely="10">发送红外信号</comment></block></xml>